<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fighting Game UI Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        #gameContainer {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        #instructions {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        }
        
        #instructions h3 {
            margin: 0 0 10px 0;
            color: #ff6b35;
        }
        
        #instructions ul {
            margin: 0;
            padding-left: 20px;
        }
        
        #instructions li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="instructions">
            <h3>ðŸŽ® Fighting Game UI Test</h3>
            <ul>
                <li><strong>ESC</strong> - Toggle Main Menu</li>
                <li><strong>F1</strong> - Toggle Feature Showcase</li>
                <li><strong>F2</strong> - Start Training Mode</li>
                <li><strong>F3</strong> - View Rankings</li>
                <li><strong>F4</strong> - Open Social Hub</li>
                <li><strong>F5</strong> - Open Settings</li>
                <li><strong>F6</strong> - AI Features</li>
                <li><strong>F7</strong> - Performance Stats</li>
            </ul>
        </div>
    </div>

    <script src="https://code.playcanvas.com/playcanvas-1.65.3.min.js"></script>
    <script>
        // Initialize PlayCanvas application
        const canvas = document.createElement('canvas');
        canvas.id = 'gameCanvas';
        canvas.style.width = '100%';
        canvas.style.height = '100%';
        canvas.style.display = 'block';
        document.getElementById('gameContainer').appendChild(canvas);

        const app = new pc.Application(canvas, {
            mouse: new pc.Mouse(canvas),
            touch: new pc.TouchDevice(canvas),
            keyboard: new pc.Keyboard(window),
            gamepads: new pc.GamePads()
        });

        // Set canvas properties
        app.setCanvasFillMode(pc.FILLMODE_FILL_WINDOW);
        app.setCanvasResolution(pc.RESOLUTION_AUTO);

        // Add window resize handler
        window.addEventListener('resize', () => app.resizeCanvas());

        // Start the application
        app.start();

        // Create a simple 3D scene for testing
        function createTestScene() {
            // Create a camera
            const camera = new pc.Entity('Camera');
            camera.addComponent('camera', {
                clearColor: new pc.Color(0.1, 0.1, 0.2, 1),
                fov: 55,
                nearClip: 0.1,
                farClip: 1000
            });
            camera.setPosition(0, 2, 6);
            camera.lookAt(0, 1, 0);
            app.root.addChild(camera);

            // Create a light
            const light = new pc.Entity('Light');
            light.addComponent('light', {
                type: pc.LIGHTTYPE_DIRECTIONAL,
                color: new pc.Color(1, 1, 1),
                intensity: 1.0,
                castShadows: false
            });
            light.setEulerAngles(45, 30, 0);
            app.root.addChild(light);

            // Create a rotating cube for visual interest
            const cube = new pc.Entity('Cube');
            cube.addComponent('render', { type: 'box' });
            cube.setLocalScale(1, 1, 1);
            cube.setPosition(0, 1, 0);
            app.root.addChild(cube);

            // Rotate the cube
            app.on('update', (dt) => {
                cube.rotate(0, 60 * dt, 0);
            });
        }

        // Initialize the test scene
        createTestScene();

        // Import and initialize the UI Demo
        // Note: In a real implementation, you would use proper module imports
        // For this test, we'll create a simplified version
        
        console.log('ðŸŽ® Fighting Game UI Test initialized!');
        console.log('Press ESC to toggle the main menu, or use the F-keys to test different features.');
        
        // Simple UI test without the full module system
        let mainMenuVisible = false;
        let featureShowcaseVisible = false;

        // Create a simple main menu
        function createSimpleMainMenu() {
            const menuContainer = new pc.Entity('SimpleMainMenu');
            menuContainer.addComponent('element', {
                type: pc.ELEMENTTYPE_GROUP,
                anchor: [0, 0, 1, 1],
                pivot: [0, 0, 0, 0],
                margin: [0, 0, 0, 0]
            });
            app.root.addChild(menuContainer);

            // Background
            const background = new pc.Entity('MenuBackground');
            background.addComponent('element', {
                type: pc.ELEMENTTYPE_IMAGE,
                anchor: [0, 0, 1, 1],
                pivot: [0, 0, 0, 0],
                margin: [0, 0, 0, 0],
                color: new pc.Color(0, 0, 0, 0.8)
            });
            menuContainer.addChild(background);

            // Title
            const title = new pc.Entity('Title');
            title.addComponent('element', {
                type: pc.ELEMENTTYPE_TEXT,
                anchor: [0.2, 0.7, 0.8, 0.9],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                text: 'Street Fighter III: 3rd Strike\nPlayCanvas Edition',
                fontSize: 36,
                color: new pc.Color(1, 0.4, 0.2, 1),
                textAlign: pc.TEXTALIGN_CENTER
            });
            menuContainer.addChild(title);

            // Subtitle
            const subtitle = new pc.Entity('Subtitle');
            subtitle.addComponent('element', {
                type: pc.ELEMENTTYPE_TEXT,
                anchor: [0.2, 0.6, 0.8, 0.7],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                text: 'The most advanced browser-based fighting game ever created',
                fontSize: 18,
                color: new pc.Color(1, 1, 1, 0.9),
                textAlign: pc.TEXTALIGN_CENTER
            });
            menuContainer.addChild(subtitle);

            // Feature showcase button
            const featureButton = new pc.Entity('FeatureButton');
            featureButton.addComponent('element', {
                type: pc.ELEMENTTYPE_IMAGE,
                anchor: [0.3, 0.4, 0.7, 0.5],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                color: new pc.Color(1, 0.4, 0.2, 0.8)
            });
            menuContainer.addChild(featureButton);

            const featureButtonText = new pc.Entity('FeatureButtonText');
            featureButtonText.addComponent('element', {
                type: pc.ELEMENTTYPE_TEXT,
                anchor: [0, 0, 1, 1],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                text: 'Feature Showcase',
                fontSize: 24,
                color: new pc.Color(1, 1, 1, 1),
                textAlign: pc.TEXTALIGN_CENTER
            });
            featureButton.addChild(featureButtonText);

            // Play button
            const playButton = new pc.Entity('PlayButton');
            playButton.addComponent('element', {
                type: pc.ELEMENTTYPE_IMAGE,
                anchor: [0.3, 0.25, 0.7, 0.35],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                color: new pc.Color(0.2, 0.8, 0.2, 0.8)
            });
            menuContainer.addChild(playButton);

            const playButtonText = new pc.Entity('PlayButtonText');
            playButtonText.addComponent('element', {
                type: pc.ELEMENTTYPE_TEXT,
                anchor: [0, 0, 1, 1],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                text: 'Play Now',
                fontSize: 24,
                color: new pc.Color(1, 1, 1, 1),
                textAlign: pc.TEXTALIGN_CENTER
            });
            playButton.addChild(playButtonText);

            // Close button
            const closeButton = new pc.Entity('CloseButton');
            closeButton.addComponent('element', {
                type: pc.ELEMENTTYPE_IMAGE,
                anchor: [0.9, 0.9, 1, 1],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                color: new pc.Color(1, 0.2, 0.2, 0.8)
            });
            menuContainer.addChild(closeButton);

            const closeButtonText = new pc.Entity('CloseButtonText');
            closeButtonText.addComponent('element', {
                type: pc.ELEMENTTYPE_TEXT,
                anchor: [0, 0, 1, 1],
                pivot: [0.5, 0.5, 0.5, 0.5],
                margin: [0, 0, 0, 0],
                text: 'âœ•',
                fontSize: 24,
                color: new pc.Color(1, 1, 1, 1),
                textAlign: pc.TEXTALIGN_CENTER
            });
            closeButton.addChild(closeButtonText);

            // Initially hide the menu
            menuContainer.enabled = false;

            return menuContainer;
        }

        // Create the main menu
        const mainMenu = createSimpleMainMenu();

        // Keyboard controls
        app.keyboard.on('keydown', (event) => {
            switch (event.key) {
                case pc.KEY_ESCAPE:
                    mainMenuVisible = !mainMenuVisible;
                    mainMenu.enabled = mainMenuVisible;
                    console.log(mainMenuVisible ? 'ðŸ“± Main menu opened' : 'ðŸ“± Main menu closed');
                    break;
                case pc.KEY_F1:
                    console.log('ðŸŽ¯ Feature Showcase - Press ESC to open main menu');
                    break;
                case pc.KEY_F2:
                    console.log('ðŸŽ¯ Starting Training Mode - Real-time frame data, hitbox visualization, combo trials');
                    break;
                case pc.KEY_F3:
                    console.log('ðŸ§  Opening Rankings - Bayesian anti-toxic ranking, 9 competitive tiers');
                    break;
                case pc.KEY_F4:
                    console.log('ðŸ‘¥ Opening Social Hub - Live spectating, coaching, guilds, tournaments');
                    break;
                case pc.KEY_F5:
                    console.log('âš™ï¸ Opening Settings - Colorblind support, customizable controls, voice control');
                    break;
                case pc.KEY_F6:
                    console.log('ðŸ¤– AI Features - 24-layer neural network, adaptive difficulty, smart matchmaking');
                    break;
                case pc.KEY_F7:
                    console.log('âš¡ Performance Stats - Real-time monitoring, adaptive quality, network optimization');
                    break;
            }
        });

        // Show initial message
        setTimeout(() => {
            console.log('ðŸŽ® Fighting Game UI Test Ready!');
            console.log('Press ESC to open the main menu and explore the actual game features.');
        }, 1000);
    </script>
</body>
</html>